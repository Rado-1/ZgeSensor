<?xml version="1.0" encoding="iso-8859-1" ?>
<ZApplication Name="App" Comment="Created by Rado1 (c) 2013" Caption="Sensor Demo 3" ClearColor="0 0 0 1" AmbientLightColor="0.7529 0.7529 0.7529 1" ScreenMode="0" CameraPosition="0 0 0" LightPosition="0 0 0" ClipFar="400" NoSound="1" AndroidPackageName="com.rado1.SensorDemo3" AndroidSdk="1">
  <OnLoaded>
    <ZExternalLibrary Comment="ZgeSensor library" ModuleName="./libZgeSensor.so">
      <Source>
<![CDATA[/*
  ZgeSensor Library used to handle various sensors on Android.

  Download Android shared library from
  http://code.google.com/p/zgesensor/downloads

  Copyright (c) 2013-2015 Radovan Cervenka
*/

// sensor types; also used as sensor identifiers
const int
  SENSOR_TYPE_ACCELEROMETER = 1,
  SENSOR_TYPE_MAGNETIC_FIELD = 2,
  SENSOR_TYPE_ORIENTATION = 3, // deprecated
  SENSOR_TYPE_GYROSCOPE = 4,
  SENSOR_TYPE_LIGHT = 5,
  SENSOR_TYPE_PROXIMITY = 8,
  SENSOR_TYPE_ROTATION_VECTOR = 11,
  SENSOR_TYPE_RELATIVE_HUMIDITY = 12,
  SENSOR_TYPE_PRESSURE = 6,
  SENSOR_TYPE_LINEAR_ACCELERATION = 10,
  SENSOR_TYPE_GRAVITY = 9,
  SENSOR_TYPE_AMBIENT_TEMPERATURE = 13;

// display rotation
const int
  ROTATION_0 = 0,
  ROTATION_90 = 1,
  ROTATION_180 = 2,
  ROTATION_270 = 3;

// Initialize the library. Must be called from OnUpdate section.
void sensorInitLib() {}

// Stop the library usage. Returns a negative error code on failure.
int sensorStopLib() {}

// Get rotation of display
int getDisplayRotation() {}

// Start to use sensor of the specified type.
// Returns a negative error code on failure.
int sensorUse(int type) {}

// Set the delivery rate of events in microseconds for a sensor
// of the given type.
// Returns a negative error code on failure.
int sensorSetEventRate(int type, float eventRate) {}

// Disable a sensor of the specified type.
// Returns a negative error code on failure.
int sensorDisable(int type) {}

// Enable a sensor of the specified type.
// Returns a negative error code on failure.
int sensorEnable(int type) {}

/*
 * Get actual data for the selected scalar sensor type.
 * This is used for sensors such as ambient temperature,
 * proximity, light, pressure or humidity.
 */
void sensorGetData1(int type, ref float value) {}

/*
 * Get actual data for the selected 3D sensor type.
 * This is used for sensors such as accelerometer, magnetic field,
 * gyroscope, or gravity.
 */
void sensorGetData3(int type, ref float x, ref float y, ref float z) {}

/*
 * Get actual data for the selected 3D sensor type.
 * Rotation vector sensor uses <x, y, z, w> as components of
 * a unit quaternion representing rotation of the device.
 */
void sensorGetData4(int type, ref float x, ref float y, ref float z, ref float w) {}

// Return name of a sensor of the specified type.
string sensorGetName(int type) {}

// Return vendor's name of a sensor of the specified type.
string sensorGetVendor(int type) {}

// Return resolution of a sensor of the specified type.
float sensorGetResolution(int type) {}

/*
 * Return the minimum delay allowed between events in microseconds for
 * a sensor of the specified type.
 */
float sensorGetMinDelay(int type) {}]]>
      </Source>
    </ZExternalLibrary>
    <ZLibrary Comment="Globals">
      <Source>
<![CDATA[// Constants

const float
  PIx2 = PI * 2.0,
  NPIx2 = PI * -2.0,
  PI2 = PI / 2.0,
  ROT90 = 0.25;

const float
  SPEED = 20.0,
  MAX_POS = 57.0;

// Variables
int DisplayRotation;

// Functions

// quaternion to Euler angles
void toEuler(float x, float y, float z, float w,
  ref float rotX, ref float rotY, ref float rotZ){

  float test = x*z - y*w;

  if(test > 0.49999){  // singularity at north pole
    rotZ = 2 * atan2(x, w)/NPIx2;
    rotY = ROT90;
    rotX = 0;
    return;
  }

  if(test < -0.49999){  // singularity at south pole
    rotZ = -2 * atan2(x, w)/NPIx2;
    rotY = -ROT90;
    rotX = 0;
    return;
  }

  rotX = atan2(2*(w*x + y*z), 1 - 2*(x*x + y*y))/NPIx2;
  rotY = asin(2*(w*y - z*x))/NPIx2;
  rotZ = atan2(2*(w*z + x*y), 1 - 2*(y*y + z*z))/NPIx2;
}]]>
      </Source>
    </ZLibrary>
    <SetAppState State="DoAppState"/>
  </OnLoaded>
  <States>
    <AppState Name="DoAppState" CollisionsEnabled="0">
      <OnStart>
        <ZExpression Comment="Init sensors">
          <Expression>
<![CDATA[sensorInitLib();
if(sensorUse(SENSOR_TYPE_ROTATION_VECTOR) < 0) quit();
DisplayRotation = getDisplayRotation();]]>
          </Expression>
        </ZExpression>
        <ZExpression Name="InitScene">
          <Expression>
<![CDATA[for(int i = 0; i< 400; i++)
  createModel(CubeModel);

App.CameraPosition = 0;]]>
          </Expression>
        </ZExpression>
      </OnStart>
      <OnUpdate>
        <KeyPress Comment="Pause" CharCode="255">
          <OnPressed>
            <ZExpression Comment="Disable sensors" Expression="sensorDisable(SENSOR_TYPE_ROTATION_VECTOR);"/>
          </OnPressed>
        </KeyPress>
        <KeyPress Comment="Resume" CharCode="254">
          <OnPressed>
            <ZExpression Comment="Enable sensors" Expression="sensorEnable(SENSOR_TYPE_ROTATION_VECTOR);"/>
          </OnPressed>
        </KeyPress>
        <ZExpression Comment="Update camera from sensors">
          <Expression>
<![CDATA[float x, y, z, w, a, b, c;

// update rotation
sensorGetData4(SENSOR_TYPE_ROTATION_VECTOR, x, y, z, w);

// recompute by display rotation
switch(DisplayRotation){
  case ROTATION_90:
    a = x;
    x = 0 - y;
    y = a;
    break;
  case ROTATION_180:
    x = 0 - x;
    y = 0 - y;
    break;
  case ROTATION_270:
    a = x;
    x = y;
    y = 0 - a;
}

toEuler(x, y, z, w, App.CameraRotation.X, App.CameraRotation.Y, App.CameraRotation.Z);

switch(touchGetCount()){

  case 1: // one touch - move

    // camera distance position -> rotation_quat x [0,0,1,0]) x rotation_quat^-1
    a = z*x*2 + y*w*2;
    b = z*y*2 - x*w*2;
    c = z*z - y*y - x*x + w*w;

    if(touchGetX(0) > 0)
      // right screen touchGetCount - forward
      w = App.DeltaTime;
    else
      // left screen touchGetCount - backward
      w = 0 - App.DeltaTime;

    App.CameraPosition.X -= SPEED * a * w;
    App.CameraPosition.Y -= SPEED * b * w;
    App.CameraPosition.Z -= SPEED * c * w;

    // stay inside
    App.CameraPosition.X = clamp(App.CameraPosition.X, -MAX_POS, MAX_POS);
    App.CameraPosition.Y = clamp(App.CameraPosition.Y, -MAX_POS, MAX_POS);
    App.CameraPosition.Z = clamp(App.CameraPosition.Z, -MAX_POS, MAX_POS);
    break;

  case 3: // three touches - regenerate scene and reset position

    @RemoveAllModels();
    @CallComponent(Component: InitScene);
}]]>
          </Expression>
        </ZExpression>
      </OnUpdate>
    </AppState>
  </States>
  <OnRender>
    <UseMaterial Material="WallMaterial"/>
    <RenderTransformGroup Scale="120 120 1" Translate="0 0 -60">
      <Children>
        <RenderSetColor Color="1 0.7922 0.7922 1"/>
        <RenderSprite/>
      </Children>
    </RenderTransformGroup>
    <RenderTransformGroup Scale="120 120 1" Translate="0 0 60" Rotate="0 0.5 0">
      <Children>
        <RenderSetColor Color="1 0.8078 0.6157 1"/>
        <RenderSprite/>
      </Children>
    </RenderTransformGroup>
    <RenderTransformGroup Scale="120 120 1" Translate="-60 0 0" Rotate="0 0.25 0">
      <Children>
        <RenderSetColor Color="1 1 0.6157 1"/>
        <RenderSprite/>
      </Children>
    </RenderTransformGroup>
    <RenderTransformGroup Scale="120 120 1" Translate="60 0 0" Rotate="0.5 0.25 0">
      <Children>
        <RenderSetColor Color="0.7765 0.7765 1 1"/>
        <RenderSprite/>
      </Children>
    </RenderTransformGroup>
    <RenderTransformGroup Scale="120 120 1" Translate="0 60 0" Rotate="0.25 0 0">
      <Children>
        <RenderSetColor Color="0.5686 0.7843 1 1"/>
        <RenderSprite/>
      </Children>
    </RenderTransformGroup>
    <RenderTransformGroup Scale="120 120 1" Translate="0 -60 0" Rotate="0.25 0 0.5">
      <Children>
        <RenderSetColor Color="0.7569 1 0.7569 1"/>
        <RenderSprite/>
      </Children>
    </RenderTransformGroup>
  </OnRender>
  <OnClose>
    <ZExpression Comment="Stop sensors" Expression="sensorStopLib();"/>
  </OnClose>
  <Content>
    <Group Comment="Artwork">
      <Children>
        <Mesh Name="CubeMesh">
          <Producers>
            <MeshBox/>
          </Producers>
        </Mesh>
        <Bitmap Name="WallBitmap">
          <Producers>
            <BitmapFromFile Comment="Imported from tile.png" DataWidth="64" DataHeight="64">
              <BitmapFile>
<![CDATA[78DA2D7AF7731B57D6E53FB9FBC3EE5733E3F1D863D91ECBB62CD9124D4A62504E962559CC59A428896246CE39C746E88446371A0D347226486AAAF63C68AB502C1204BADFBBF7DC131EB0FDECC6FAC32BABF77E589EB9B434FDCDE2D4D72B33DF2E4D5D5A9AFC6A65FAD2D2D4D74B53FF5A9EFEF7DA9D6F97A7BE193DF3EF95E97FCFDFFA7265E61BBC6579FADB95994B78ACCE7CB378FB5F78FDC2C43F97F0DFC9AF166F7D89C7D26DBCFDDBBF7EFB3F0B137F5FBC893FBFFAFCE4CAD4D7F3E35FE0F9173FFFAF85892F667FFFC7F224EEF5CDC2CD2FE7C6FEBE70EBCBE5A97FAFDDFB7EFDC1E5F5FB97D71EFCB8F6F0C7F5FB3FAEDEF9CFDAFD1FD6EE7E47EE75FBCBC73FFF6FFBDBE796F5FBD6F519D3CA2DE3D22DCDDC9871F9B665FD8E7E71CC303F6E5E9C302C8E5BD7EF5A36EE9937EE5AB7EE5BDFDC332E4D9CBCFCC5B474CBB43663D9B863D9C4930FCCEB774D2B53665C646ECCBC844B4D9A57672C6B33A6E569D3F26DFDCBABDA97BF1DFFF9937EF19665E38175F3B1691D6FB977F2EAB7A3E73F1D3EFFC9388FDB8D19976E1AE66E18E7C68D2B53B6CDFB96F519E3CAA47661FCF0C52F1F9FFC809F7B7F5E397C79F5E4AF5F35AFAE1A5E5F5B98F88775FB9979E38E7179C2B8346E5E9934ADCC98D7EEDAB61EDBB79F58D61EE8E7C68FFFBA6A5CBEA95FBEA51F2DD8BAFDC8BC36A39FBD665E9DB2BF7D62D9B86F5CC5161EDA779E1A566EEAE66F5856276D9B8F6C5B8FAC1BD8F57DDBDB67F8AF7EF68671F1A67E71C2B47E4FBB48AE665CBB637DFB877E7EE2E8E9E5C3E73F1B966E5AD6EFDAB71E9B57A66D1B770DCBB70E5E5CD97DF2DDDEB31F34B3BF69FEBA76F2EA57E3C28461614C377B5DFBD755CDAB2BC7CF7F9C1DFBBFE6AD27D82356685AB96D59C3151ED9DE3C32ACCE9C2C4D689750AB7B36D476E39E667EFCE8E52F472FAE6897266C9B77B0D9E3D7D7F58B37F75F5C79FFE47B94C5BA7EC7B034A99DFB1DF74291758B37F7FEFC71EFF94F78A3616566B4F8CF8FF1DDE797DF3DFE0EEF42BFB40BB7B42F7F3978F28375FD1EFA7E3C77E373138F5F5D3BFCF367EDEC6FC6E55BD8BE75F39E65EBA11525DD7C64599AD2BFBEAE79F5CBD1F3CBF3E37FC393000F1A675A991C96B22D21CCF80FE39637ACF723EBDB4FDBDF52CEAD8618396FE4D494B59C36B5E4E0699DEB2B8953953AAFD075D6DBE4DC4AD2DE57E9B39678D612CE1A74BF9C6A8AA11AE794538E0AEB3C6F17CF5BA54F1DE553433A53536AC652CDDA8A097D578E9DF7D4812AF4CACC69852DC58CC5A0AE23065A39B71838A8652DA772A22BC7C5848971BFE7FCBB7C78BF21473E7525D441F3FAAAF6D515829FADC740BB6971C2BA7A7B58A4D48CAD99771753A666CED71202E5AC454CE813B69D4125DB2BA7C49896091C76E4444B0CAB8C0B8F8EE86DE41CD8723EA6634387ACEF80F1EDA71CDB4A52D7625D75DAC33A7764CA5CE33DA58C4D8C68CA494D2D6B421D38FF87947347A2CC4ACAAE643D0A65E65D6F8B91E396E02FA54CAC6D5B4EE8FB4A524E594A94BE4C69D594B91CD5A61C3B4AD605549CFCF1135AB078F39F96378F4C1B33BAD7D7B473D7BB52A0C9DAEA9CB391F30F6BECA7A6D091A8662E54E7DC74E8A85FE77091BC7F9FF5EEA6ECDB21ED12E7D9AD244D15C6865273A12331AECD47B562E8A418D356338672D654655D42C810366F50960DC6B787F716FCEF95F8899A3209BE7731E36A4CBF1ED5AE444E16FD1F5FF1CE77A584AE2F5325CAAEC44E2A596B4F4ED458871CD7B594C8A0C6F494548DF308E103F3FA3458453B7B7DE1E617A8BF796D1AB3AF9D1FEFC9B1525CABA4754DC1910B1FF3A193B32AD791E9563E24C60DA846231FACA5AD4AD2588CEBB1977AD65EA39D95AC034DEF4AE106EF6ACB912AE36CB0CE725C5FC9984F2BCCA0C48B497D25ADAFB20E957628094339A917FC7B95A4B69EB21483C78C6D2B67DD945C3B75CA204534032C92F5156247E594F9A2C29452E662FC98F1EC72012C86462505FF47B0937979523F3F46F0F306F899C15C1BE627CE6AD91A63AFD0163E78803E96B30E25EDFA54CBF58B1199D2B7F2FE5E856EB2EE1265ACD1F65AD6564A186A694B8DB695D2A67CE4A4423B2FDA625B8CB7819694B194B24A09EBA09CA80BDEBCFF639D71B5C558316E107CFBBCEB5D2D6BEF8A4135A9CBF97794F0413174544B9B44FF7EB7106F8BE17CF438E57EDB2BC45BB9403D6BABD37640AE9D0F549206D6B58D51B5AECEE8E7C6166F7D61DA7C0842C6A41FBDBA36AC66CB94B5C3BBEBACAB27451A395F474A0C95649B73D6185B396B05A86A5907A949D2584E5B489D936640B7983202AE8C7BB7C4BAFA15A691B5573356953200F30335910F1DE77DBB6A1A507760CBB9C05ECABE55615CC36A2E1F3854820779EF7BD9F79136AFCBD1831AEB1994B2D85DCAB92553D661856E17531D297E5AC65EDCC598AE10D5189626A0299A175721736670F5E643DDDC0D3061BB90386F15D0412CBBC947BB62B42B25AAB4A314D334B105DED7961235DA819557697B91325558D7B091EB14D335C651A16D62549B0B1DF5CAD972CA56495B006695760ECA19356EC807F7CA595B95F58BE1632178900B1DD4F8404388D38E0F6A54439B368B9EDD9C1D53AFC1665BF900F0AF444F407D696C9CF7D573BE52C65A8C6A6B097D2BE707A99EBCBA629CBB317FF30BEDCA1DE820A1E2D7BFD19E77C5ACA9518C9E37F981CA36C548216EC492D4B4B1C9BB3B45AA9C026CD04A5B271FA831646633FEFD41996A4BD11AE3C2F340695388B4E424EF3B28C57580EB59355B41B3524650D050CD024518817C44039C34F8904A59C4F021E73F94231A2970007870AEDDAE1C2CD3EE5AC6548EE938EF41C4B2CEB8779484BEC9B8D0FD01DEBF78F3F8E515FDDC6F701186B57B1056FBD643EDEBEB15CA2026745C689F72BC4DBB76F8D09E42199494AE910B0ECBD99A10AA33F67631D05512A0FD763ED8167C4A522F4635C32ADF14E268B7103E966296B30AADC48DF8171FD10E4A941A378A314D5B0A9E37B806E76B30EE06EF03306A8C5B4D5BC11839CF1E38A729C7BBC548396D4D3ADE36E4D8A092ABD1DE62E4042F6BE763FD72F6ACCE417A9A799F66EE9A66F617CDECAFC08F61F52E1C05141642D693A9762ED0CC792A8C1D9458679D0DC6DE95A27D35DBE0034ADAD2E21C39F4578EA17AD52C64C8514A9BA5984648EACE5A72BB9096B1FDC0111858491A0AE1A37C60AF9C3475725E9055DAF94E4A9854DA8E5D03578D7CA89434611CCA091D680782A8723E163A12D52B9431657BAB64FDA7D5DCA02A0C1BF2B091EF973375CE53A26C753600AD07FE611B1627BF32ADDF3FFAEBEAC18B5F8DAB33176D69D8107BA5642B1F6C898181126F89B1D3325BA33D85841ED2D6C83AC5E07ECAFEB623C77BF96027176E0B012565A69CDB59FF7E2DE700CC5A9CBF9830D5B3D65AD2582733EE26D4CA79AA692B98AA4ADBCAB42DED790F996B3110387B2563EDCB493166603CEF6A19BB9C30E5A39AACEB9D7FFF4544BBC0793FB0817DCAB513B76EE117256594924638286296DE3E81DD35013FF3D70F9E5FDE7BFEA310D5D4A540BF420FAADCB02E9CD5F9A614A69C6FB39EDD2AE7EFE64355AC87B109E12329A93F6B147B45A6C10154AE22A5931346788F4E217E5AE109ED97B3E08D7E853D55F9D332DF57E85E21D11242832255C78088D16AD6A9C40DA0A9761EBB73B1CEB7A27F1792015A2ED3CEBA14E69CEF58D77BD6BB2F783E328E9DBCF723544F8A1C73EEDD83673F1EBFFCC5BA717F65E6DFA83F9CB0617142FBEA5AD6B95DE7BD19C707CAB415336D464C9B49C74E95B1816AC033A5B8554DE88BA1C34244538C9EE413BA6153AC31BE9EE007444FCB69F0E1A09C96D316CAF93EE3DA8597A0BDFBA8732E72CC8735C006E73F90A3FA0AEDED8012F3A13A6DCD873E56186BCEFB4EF0EE0048ED9C1D5CDD2DA7EBF9282C5003234C66DF5CCE58CA94B11CD735C9ECF80DC40CDFB46EDC599AFECAB2FEE0E4E535C3FC75EDEB6BA594E5BC9A53297B396E0080E5A401F28D071738A4BD1FA15F1837D1BF071854D246DAB79F747F80BE74F3D18192E9CA0921729484A5C11E2922D0B5ACB542FAE5A8D30E00AF1CD557E3C6BCE7A39AD40309BCFFA3183A803BA23DEFE5E0472978D891629D02D5ABD195B44D4A6825DFFB0218290D3FE34083DA9C1B027D564E9F3704F81FFDEA245888AC7FE3A176F606EC041C1DDED52F512DD65DCFD80A711D181B2E0E42839F4C6057A1ADBD22755ACB358468356303E1638407C5785F4E35B860D6F311CB860443B56BACBBCDBA5B3C9CA41F3ADE1682DD7CAC96256C508AE96A191B240FD556E2E8A3A6E83F2CF877A5D0710FB716438C7B4FF2EDAB197B9598C3783317A9710ED4BFC93A0BA1238C5B83F7EEFFF1E3EED3EF34AFAE2D4D7E6DDD7C08F058C13F6F1E764BA94199C16B887A66AC15DAD1CEFB2BB40B1D2FA5EDE0C69869BDCC429292C5A4BE9DF70EC5D85939D3CC878A94B9C1B9AB8CA795F78125AAB4BB9D0B9E9633E78DFCB02A9C5573E775F154A507A5542717EC309E265C535C23F93FA8316D1E0BF6EF739E8F02BC5FECA406EB9BB59182971283063FA8B255D6892200B442E8B8C6F9701DEDFC04DCA671FEC6FCC43F611E34B3D7F5C85FAB9394779772BDAD66EDF0634DC153639DB00A12AA9432C29196D38E52D2026603FF287023A26F00BECD879B396F4782443A1A390F8AD3CE27064A1A8F4AD623C58C7CE838E37E97F1BCCF068E0A2973BB101994D24335852AC1C8C13E156306B8081029EA0AD66A72F616E7EB9532E58C3DE3DA1603FB8D8C053A083517BD1FD3DEBD6A2E803523A921B32C4E7D65DD7C80BD9848F41BAB73AE1A60C6026FFEBE42C1BEB67241484F3963C6946110C075104ADC4BCDDA7A8558578A4871237ADD8058F08EAE143B2DD13D952A656DB4EF633E7C58CB581A189694014883F39722473CD4367C52E503C32A0B45FB6C33E0AB05EF5E317C5C49EA8625AA2347B10C06838695308E12AC6CC22401C089E3ACFF5DC2BEF9F6C125B4C0B6716F69E69271ED2E02E6C1CB6BC8B6C38670D1AEB4C5E850A180BD4F2DE11C8FA63400B1D4F3A7154EA5BD3009B0104DDED79713E5B4B9C1BA60A141ADA0C7B3520A9B1222C7E0AB1299022F7C6033E7862860045AD0C48C53CD3A2A599B14D771315DBF926949A1266D550287A2773FE7DA4D59361191D2CE1D7029F2573BEF43171AACB79C719547640233061645B4D4CC8D21E02F4E7D6D19E1FFC3B3CBBB4FBFA7BD1F5AC564478EF4F2FE26EF5532163965AEB29E62DAA6F281B32ADBC8852B3048ACA329C56114AB2973853275384F8BF5F70B49E8542E81F88029B6AB592B8857CD9861397A82AFC37A5A9C0B30806BC22442CE72715DDCB2D12CC43A62B84AE924DF87525853086B8A094309422FF8102B5A1CE6283CACF3FD1A5D05B4722E0C3884DBB23AA55D9C40C1176F7F05FF09FF83B86D58BA25C5F4B57CA88B2D14E24D31DA806E0A9E2AC63F6BA1FDA01704A21826B423C6002D60B59AB177F3818118C214109F43DBEB8CB3C6DA7B7204C6F55CE5CF2A3C51B4527258C90CCB2958918E1040AE6C71CE2A6D29C67594FB7DAF1069A4EC9594A9886EC2DC5226F81658D09E926C15623D85AA725E0012C3D8C1EC54B9B3461E9AAB991FD713FEFCB7959C3F4C19D7A7CDEB77E17F86150EA9A14A2C53B0990FD679574702017A0083AE146FE7A3B016887860A426076E0CF7E5781F9B15FC4ADA8A19EF0A31ACA79D0F6148079511E188D11AEB07AECE11485BCAB0C2005725CA0C47848488589471EFF78AC996E84383300E102CC40AB8FDB36AA6910B09715DCAB65908EDA3710DDE437EB2EEDD273FEC3DBB0CD8A3FE36AC7FF936B064DF7A52CA3878686B5C078B8A090259551867570A62EF8062033A42DBBAAC07EBAF737E648A0EEA2925FAA534FA023A85160CCB745F49638585B881F6EDC1E773A143383AD6FF21EBD9E7C3E67E39852D740BD8941BC455E790746C4CE0A0958F60F1ADACA3493B0AC811E1E3223A4219917AD4A80E4F22F9D6682B5CFA05E86071423F775D373706FEB7BD79AC5F183710FC4CB2FEBD521288F503E7DD5276A0E6EA0086CA0D70C71283596BE4BC2D213028A6FB4500C9DF2D04D1E5BA102D670069771F2909FF9229783039AE6FF1AE56D6DEE2BD1D706C1EBCEA572813657B0B5EBD684810858E14C698341827C80A0D42D807FE9590A69AB2F0A1A3D28836C92146D64E92A0E857694B99765C54B296359259CCC4FF5CB26E3E3A7E7DDDB47CCBB23683D777042F5EA9646D323A25C77A15AA5BA65BC558BF9A6FCBC089079CD9C983DF5C9F8F1D90557B72BC2386E06786B040A5CC6901A361C7A59AB9500FEA5C4C80571B5CA00D72862CA6CDB4E74325EB3F6F88681F226D83F1428ED18E6E2186FC524F199BB41DAD01A8FA4AAA2D46303EC409E7BD05A49BD0512169C4C062F1F6B77FACCE5C02FFECFEF113F8D3B279FFB49E3BABE5318CC88352441BB36CE47C3B11DD4AC430CFF80EB05AB8FD5E21DAA041892E3C90F4478215680B24CE00033D2959A31CB5A419F1F9ACC40ECB4C25EB424CB8509956CEA3268D4ACA805C1F336F0DD4EC5985EBE4236D3E04C1C2DA4E9594123B56298D8A2DE4117678B0F76995019F9C96931D29808E089113317AF2F1E9E5E397D76C6F1E2E4D7F6DDE7CA899BBB1FBFCA7F7CF7EA47D07D04D84297800F0582D410ECA887F485B55C6041F524A9BBA8548356D6F8BDE76215C65ED400B1E4882989736D62FA7BA6208538F116E09D10A09952621BC87D1032DD418580B88A33B1FD162402EEA1CDE029EC4F5919DC1690D382EDE25C5B569F77B2E742CC675B9A8860F1FC12B5619878AC4440CB649BF30A69DBB6159BFB378EB9F96374F20C4E4E479F1265E2651E68B1A8BF1244E89C5C359A1ADF51185A2FE2A63874B6C733E2585F00E71B1F480792583276BACABC107C1602DDED7C8B92B0C161CC54DCBC8CB0808291B9C7F8DF51593264418449EA4FDDD5999063BE1773855C4C63335AB262DD044989672CA0A15802141186CF278C01538ABAC0D681CD672B6AD072482AD4C2E91F3ABA708EFC6E549FDD214DC4213FE4A8AF4C400960186215E8E4696C4EF812AEB900930522DD68B5E34C4007141F9C8B09485F8C22ED63990767A14678CC58C0DE4DF955320D2462E805D600ABA24E63BB01298C3A4F33D34020C8C22D4685CD984D6D7697274039201EA54A8FCC883019C9FDF55CA983A05AC9FD97F79EDFD931F8E5E5E9D1BFFC768FD9398680C02C4024BAD83FC056F8BF70F4A59682E06F6AC8A9544548A9405E2758A4106F5F1B88575504C9E95B398442C32174190A79194110132BEBDAE420D6B5C173294F79328C1879A7C100AA5A62D202229AE6FE640BF11AC16395D4A18FBC5549373C3F47684C86931338A03D15ACE0FA076A1D1590B827605414989812DF573374E5E5D5D9AFC0AF8312C910379C3D2ED987D3B69DF06FF37390C9DAB53C0E030958C1D048EE854A34CC48F09BE411937F235B30E95B68203E1B830BC503725631CA849CC02B1BB0903133C2C5030AE81563E0438F5D52C5A80CC58A62C081462C2D814A0022001A4E6008406561C01A1CE7A14CA4AF4A5941934F2E72D84F7C2A7AED228A455C68DFC0BEA36AEDCD4CE8DE9667F5BB8F525D6AF5F98807F402223FD62ECE05754090B90296BDCB6CDBA77CA712D260B56470C1F4367118208C8B38E06EFAC71DE11B001D470316581753CAB72601248278C539D77C34B40DD3A72B29E8BC8A483A696E0458F5A62AC2EC04D911CD49182237445888FE5BCC5943966DBF2E99712F69D42DCC4853412EA20446A5907061F4A61599D31AF4C6B67AFBFFEFD7FE07F0E5FFD06FCDB361FE1B255C6AE662C85B85E65C1E118494F83B156D3C626E3407897A39A42D204A240FDEB591B5C7429631F80A5F3B04031256D63C33A1255AA5C1FB32953039870622710C4BCC8264A1256DC041240E419A8B48A4C41190B310DC482148124202736DE24E30FF0FB108BD017296912623A99D2A1B07C589774ED6E3DF85E333BAE9F1F7B3DF63F80FDE1AB6BA05044B061BB70DE1131E3E400306BA9805E0AC99E9CEC8B81B33ACC4C12BB5033B68142778B5493F849AF9A253A85D6E3951D3122904F010E2AA363C34F751EA3017495D22EC4AB42E4045CAA827CD2E4CCA1CE92D4AFC4495806BA7091620A15F3C2FD0E082FC5CA34D25CB885009BB5E1972A0B5A0B80916ABC47BB387E32378EB19D1FFF8771FDFEF1EB5F771E7FF7EEF17771EBBB8614ED17E30D1E6B73A2026775EE53BB705AA4CAAC1F9C008BA2248DD0A9B33ADBE07D6D01B50AC19C0F8A09C01E10020C301152D208DBC304F66904C3D011B8BD9AB1A0ADA0944131D6C805D129396544C1418C301B2D2154657C15DA03EDA8709E615DBAE8945B4ABA0BDD97232DE22183151A7ECC839101A181300DCB93C0CC22E677F3A16EF177DDC20D241AF4B1CE03CFA0053F6C3946B22545C5A485F3EF0ABE5D12ABD3E672DA22C4B4FD0A735A4E13F300552242E01C0579AA5FA05A39B88B00781860004F22CB807C6087BA120699E05C49D90A4973157A478EB8BD6594850BC0D082BD5122E49794FB03F4A22B278755EEA25D042AD041358B941A3DAFE511A68C00FFE2C4D18B2B985FEB9BC7A655C2FF96F5FB9D2205D2EB48216C198346D9B669CF0EFADB117CED5C005C57177C7830C10344BF4FF55CAF48C19FB484A04A3B84A85EE54340FEA9CAB60B1484A0C607E0AEDB42A4958B90CF0EE408865D881AA0AA15C63132B701707E2B1FABD07E104E7574B60395813B12C2BAAC77870DEDE7E3DA6E113AEEC044F0E1134082711F6CDFB9B4F3E0D2FB87975EDF00FE1F1997A790256DDB8F9110BB30F3395C0DFBB5C16CA3389060F405756E7090B610E00157908B1C839FCF6B080B98D0189050A6EDF0DE49D79E9874B60B4972D65AE1E1334FAB42BFCC02727C509F0BEB5179221CB4ADCA7ADB84E101BCB092C6CA0304213CB699C6959BD0851C21D5947B175B80A0633D7CE4A82992433CC3FC987E6942FBD7B5D9B1BF21BF985727C92702ABD3C594950DEC41D06584B8941924D926F90E7CEE1BC8C9418939EF954F9B72530889313DC2C259853957F364C6918CE4548FE86948A62C69CF1E1B38F6EB37D2F6BDB4E323EDD92FA56C721C7CE56E8BC1B688BE20E6C055825483701D989DD14F7F43080DEBE2A756AD2DC4E01C880A88A0DF489505513B958CA95B8CA326C82C709B8685B1F9F1BF993789FFD72D8CD9DE3CEAC9597002C229E8AEC1BB3B7984F41839EEA8B0E7E40C875147511AB087FEC28B82E1CF316B75B1475C1CD25918CBC3EDCA19627BD0F4320DD1C72FEE517008C22D34E12532AE5385FAACB0C018393515A3F01EB81AE33B89DADEC829DB695D189479501F3801DE7BC4E46E2E7848D9DFC2096BE627AC9B0F31C573BFFFDDB4F940338BE11DB36EDEFFD42FF554062A4F8E0B805E2986B402E9396F898D7C046FE783477516731400DB2308C3F4AA8C0FF9FABF50C9128D20D02D20E3F8B0D46E210C15C6923A64B3E10A32BB806262C6130805D005FC8299AD92030D4466128B4065E034583EC419367C829AA0BF90C22EE20FEF29268D52E0588E9FC0491EBCBC7AFC9A7CD2BD00FFB9F5D8B47C73FFCF2B1F9E5DE6A29A6E29879982D16D70BE560E0BB08209D9D031E301F9D8EABC1FE1A549CED6B20409B988103AA09C3B68FD79858306815E401420C3AE1841D9490C97615069789B5325FBDF1A2E9E822F4553F2316D2985C9F203F6602438C06199EBCA89B680010C408299C0210CD5283105C9C105FC671AEEDA07D76759BDA35FB86959B9BD7CFB5FE6378F50FC91A31E2BC44EA4A8B6C179FBB0BE9826E2FCCD4A02CEDFD312C37D042B1A293ED057D3176DE9B49281BF8240635FB4FB03173E9293B016F45999218E14E25BCA9CD5F8615DB8681406C50C460361073E930F1F834930656AD653A490CA91AFFD51EBFBB614FE5413CE5466A064E042AB8C0D101DE5B800EAD6849FE77CE08A8B0A635A9E3A7C75F5E4D5B585F12F887F23DFA69836ADDFAB73BE2AEF55696476B0252C41B046DB3B232F0A07888408E7D026A70DC083177820A713620478C3368B14B1C429E77BC6772844345CF02817D5F2119D1033F0112D3C0C1338CA878E59FF21FA022143669129675F86DF234301CB9AF6EC1629174CEF45534622EBE448A6C64C01752D25356CE64E6B4C8D2743A45F9C3899BD8608BF78EB5FE01FE29F37EF99D6EF36A4908AB5719E2EF8A19C1E348581CA8CB2AD772053BD3C81F4458D874E9533761035390B2A84DA72F254E5305F64CA30F81CF9F017F18D24A691B1271F3C2163E62320AE0EF9D80EAE2058A71D75DE837E5D5458928944B0A503ECCAF875285D5F0E77048491D07985EDCA548543247795D0FD72B2ABA410D575F3BF6B5F5F9D9FF8BB6DEB29E657BF721B16880BEE8B090B5460A0B28839A7D5DCA7A672D628903597997E214E164CF8DFDD14FC10A30A473E70EF9733583FF81908E99753102C12495817FA0556EF110686C6C580A891A0C77B25600956D3873CCB854FCE2A005B6658CE92B099853BB2637E1B4260A8644799E2848F1CE079C4C9AC772FEBFAC0078E8CABD3D6ADC74801B3E37FB76E3E0696200796952992B9C41424980BE928E7BBB47583F11FA8B9E85943BCE82898595C448AE9001B681C2C564B8A340B51707225E3525358B3EFBC99EF4A49D27791CC782B1F85F0E195E7356950669A2C52BF076CD695D36D01DE23062FCA044E8625F6BFCD6247448E000BF9FA9FF7980F624610EB46D61A7A01E31468F2E4ECEBC3B31F358B13300C4BD3DF003FB07347AFAF21C520F1C1D94A510D3202BC419708AB8772BFE783075D99F9D4AE2183A0BCE08A9E9444F7014E25E5AC643DC4C871C152DAD12D62615178D45ACE8DE18587A93098142F68F9AC55C4C864034735217A5A1561B4AA08A11056C6CAF88F6175CEAA428DF7413E06C514AC11321A62204C14EE85888DC705098349D83F2C75FFC5CF86E5A9D53BDF61FD869549DDE2B861E916C9145CA02DF8C901BE4A0FD4EC50A5C93770E23AE4B2334051A19A02F112A36F0AF93077502210489BD439A6B29E41850197D6598794D09E56D23D44422184EE4B69DB698DAD7176C04348E8CF9B4A8B18151F28A2CE79C4B896091D93435792BE31CEC05B98E44AC6D1CEFBCE55101A85E22B1967234F4C0B98FFE4AF5FF7FEBCB67AE77BAC9F84DFB529CBDA7487C87A7420272EEAF98B96FCDF8E74D1CCC3C0406E4A94A54059CF9BC50B707831458E40C951AD0732049003D875C6ABA4ECC82C607EB4038EB4574A62FBD0D6A6E0CD278DA72AD31F993DA4B0B6923AAF89D8358001E1C6FCE6A3262C18630EC983A782B50033A30E70C2E72A8D5EC34228198B14D7C0F89957A70D8B13072F7E5999FED6B2F918E36C58BE8950060D257EA380F5CB6D39AE64ED32ED3E6BCA607238F38CEFB04554260B26C18231BF7CE8504D3B7AF054B908F918341F1C5472FD2205C0AB19EF69091E1BB319259FD108BE4F0D6950A080AE52C659CB79863516C587B1EFCBD1CF27C3A3100AC0C0C0A706A4ADE40CA7CA78063239134047705F1020ACA3656DD2B834F9E1D177ABD3DF10FD5D9BD22D8C5B56EEF4E1C1C85786BCB8EFA99AED4971503492CB454D805DC14510914E4BE9D11E81341F1EE4D82D1782262242223D7591C2C82956B494B6F615C47F0EAE1B2B043B0DABEC692983C6D5D800EC1F7ADD1643B8578D7C15816C01AD21F18AF5A9B46BE4CCC36AC62EC60D033583A1688EF652655D500A482D30A37D7D63F1D657D6ED27FAE59BDAF9DFED1B0F06887B6A3A1736F621228D625FCE36854821613B039D96697839683DA2627B64B78055140402845521F1E151A151258290561E2ED4968F1BEAB9D161AF4C8931B34ABBFB8442639817045B1401EFFDEC88B07DFC8E3792CFDD72906337461506153CC0878E5A4A74084A57B2F063A32FB138B05AEBDA1DE3E2F8D2EDAFADDB4F8D2B9388F09695994195EB1593C8A709F74794BD21F8FA4A4ACDFA60094EC9C7616118CB53F2D1528C90A710698B7E701486E553BB44E6A55DC48C9F57D224B61793D845AF983953F34D81205CC998218B5DF2094818B021466874F6485A262587A57457C23A53049F62186EAA2D25EA59473961A4238755F2F9825D899988A9E63D105CE3D29476FEC6FCF817B6AD67A69519CDDCEF9AB9F1F356B94F8885782AE0B0978F7CEE38260253D695082D60D9C3D193FD420A486809D14E2129251D5CE448A2EC67551E8B698909D0DD592D0733DF57C999F0A7B6FAA9ADF455BEAB52AD62EAA251FAD4AC0C1BF279BB74DE527A32E62E413E41AB095800B93BE73BAB70551A9ECDAA226F463562E4A493F7A3F5281DA8D2303FAE9DBBF17A8CE8EFE88BB2D327B3D79B72F2A22E75E1A06A6CAF425FB4442C03D10FA384FAA0F2C3721A3B228029A507A514EC6229E382C917E326B00A2C255E33508087481D792AEB815584F3497B3FC2059DD78A8332DB47D2E7C8D12EA430E9F920A52CA755A6AF60CC63E4B048A29025E5B40311BBCA8720FD43953985E9CAF951B1F3461135C1E8E9E66EE8FEBA86F52F4E7E6DD97808FC98D7EFE889285CDBFBF3BA7E6906E9C0BAF1D0BEF5E8E4F58DE3D95FC9F7CDD6EF1CBFFE0D7B74BC796C1F3D1082909D0DAB77ACC89EEB77CC2B3327B337ACEBF76CE40B69F7CD6BF78C2B33FA05F29DE493D7D735B3D7AD6B77F12007AD8BB747DF56BD05193AFAEB3AD8CFB27ECFB27ED7B034695BBF6F5A99463C4785F79E5D3E78F99B11FFC2F5371F90C0B5360DDB7FF0E2AA7EF686068BF9EBB7A55B5FD9B69FC18E1A97A749845F9BD6CD4F200BEC3EBDFCE1F10FFBCFAF1847C714B68D07D6F5BBB0DC2773483AE3C7B363C7AFC7207FB89166611CF17FF4A5D9A9E3BFAEE38EA6B53BE42BBBEB7710ABC1722371B9733237615EBF67DF7E8E765B361E9856678C2B374DABB74FE6C60C2B53D8AF15B7C0CFF57BE6555C76D2B47CDBB44452C9CEC3EFDE3DFEFEDD93FF209EECBFF84583D72FDE322C8C033FF0FC2B53DF59369FA0B6E42EEBE44319CBE8ABCBC675F2AD6CCBE603DBE6633BEAB93A73F8EA57ED02D168EC423F3F8179DFFDE3CAEEF32B072FAE1816B106F26D6DD401777CFBE0DBF74FFEB3FDE03B6C079B32A12CAB3327AFC7DE3DB9BCFBC72F1FFFFC69F7F9CF2802CA825D23BAEEFEF12356B8F5E0D2EEF39F3092C6A509E3F24D33F193E386456C04733A31BA2FF92639F9DAE71CD2CAB87EEE77746179FA92F5ED9F86F507E6374F2C5BCF6C6FFFB4EFBCB2EFBCB4BD7D6ED9FE63F4786ADA78A85BBD6702A2B69F8E5EF3DCFEF6B96DFB0F34CEBAFDCCF2E6315E60D97E66DB798E3FAD282F0471F3116C21941DAFB18D9E24A7DC78D99BC716529C07101DCBD61333322C79D9536470D3C623235E0033F0FF1F4F4DB8C8F6D3CFEF45D7C8F7D5371E18D7EEE1A761EDFEE7E7371F5FFB7F4AAD07F3]]>
              </BitmapFile>
            </BitmapFromFile>
          </Producers>
        </Bitmap>
        <Material Name="WallMaterial" WireframeWidth="1" Shading="1" Light="0">
          <Textures>
            <MaterialTexture Texture="WallBitmap" TextureScale="20 20 1" TextureWrapMode="1" TexCoords="1"/>
          </Textures>
        </Material>
        <Material Name="CubeMaterial" WireframeWidth="1" Shading="1" Color="1 1 1 0.5" Light="0">
          <Textures>
            <MaterialTexture Texture="WallBitmap" TextureWrapMode="1" TexCoords="1"/>
          </Textures>
        </Material>
      </Children>
    </Group>
    <Model Name="CubeModel" CollisionBounds="1 1 1 0" CollisionStyle="2">
      <OnSpawn>
        <ZExpression Comment="Init">
          <Expression>
<![CDATA[CurrentModel.Position.X = random(0,59);
CurrentModel.Position.Y = random(0,59);
CurrentModel.Position.Z = random(0,59);]]>
          </Expression>
        </ZExpression>
      </OnSpawn>
      <OnRender>
        <UseMaterial Material="CubeMaterial"/>
        <RenderMesh Mesh="CubeMesh"/>
      </OnRender>
    </Model>
  </Content>
</ZApplication>
